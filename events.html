<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Advanced Events Page</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.css" rel="stylesheet">
<style>
    .logo img {
            height: 70px;
        }
    .back-button {
            position: absolute;
            left: 6px;
            font-size: 18px;
            color: white;
            cursor: pointer;
            text-decoration: none;
        }
/* --- Global Styles --- */
* { margin: 0; padding: 0; box-sizing: border-box; font-family: Arial, sans-serif; }
body { background-color: #f9f9f9; color: #333; transition: background-color 0.3s, color 0.3s; }
a { text-decoration: none; color: inherit; }
.dark { background-color: #222; color: #f9f9f9; }

/* --- Header --- */
header { background-color: purple; color: white; padding: 20px 0; text-align: center; position: sticky; top: 0; z-index: 1000; transition: padding 0.3s, background-color 0.3s; }
header.shrink { padding: 10px 0; background-color: #3867d6; }
header h1 { font-size: 2.5rem; transition: font-size 0.3s; }
header.shrink h1 { font-size: 1.8rem; }
nav { margin-top: 10px; }
nav a { margin: 0 15px; font-weight: bold; transition: color 0.3s; }
nav a:hover { color: #ffd700; }
.theme-toggle { position: absolute; top: 20px; right: 20px; cursor: pointer; font-size: 1.5rem; }

/* --- Hero Section --- */
.hero { background: url('https://images.unsplash.com/photo-1520975698519-2a1e57f35e21?auto=format&fit=crop&w=1350&q=80') center/cover no-repeat; height: 400px; display: flex; justify-content: center; align-items: center; color: green; text-shadow: 2px 2px 5px rgba(0,0,0,0.6); }
.hero h2 { font-size: 3rem; }

/* --- Events Section --- */
.events { max-width: 1200px; margin: 50px auto; padding: 0 20px; }
.events h2 { text-align: center; margin-bottom: 20px; color: #4b7bec; }
.search-filter { text-align: center; margin-bottom: 30px; }
.search-filter input, .search-filter select { padding: 10px; margin: 0 10px; border-radius: 5px; border: 1px solid #ccc; }
.sort-btn { padding: 10px 15px; margin-left: 10px; border-radius: 5px; background-color: #4b7bec; color: white; border: none; cursor: pointer; }
.sort-btn:hover { background-color: #3867d6; }
.event-cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-bottom:50px; }

.event-card { background-color: white; border-radius: 10px; overflow: hidden; box-shadow: 0 4px 8px rgba(0,0,0,0.1); transition: transform 0.3s, box-shadow 0.3s; position: relative; }
.event-card:hover { transform: translateY(-5px); box-shadow: 0 8px 16px rgba(0,0,0,0.2); }
.event-card img { width: 100%; height: 200px; object-fit: cover; }
.event-card-content { padding: 20px; }
.event-card-content h3 { margin-bottom: 10px; color: #333; }
.event-card-content p { margin-bottom: 10px; color: #555; }
.event-card-content .btn { display: inline-block; padding: 10px 20px; border-radius: 5px; transition: background-color 0.3s; border: none; cursor: pointer; }
.event-card-content .btn.register { background-color: #4b7bec; color: white; }
.event-card-content .btn.register:hover { background-color: #3867d6; }
.countdown { font-weight: bold; margin-bottom: 10px; color: #e74c3c; }

/* --- Category Tags --- */
.tags { margin-top: 10px; }
.tag { display: inline-block; color: white; padding: 5px 10px; border-radius: 5px; font-size: 0.85rem; margin-right: 5px; }
.tag.Prayer { background-color: #4b7bec; }
.tag.Worship { background-color: #28a745; }
.tag.Youth { background-color: #ff9800; }

/* --- Calendar --- */
#calendar { max-width: 900px; margin: 50px auto; background:orange; padding:20px; border-radius:10px; box-shadow:0 4px 8px rgba(0,0,0,0.1); }

/* --- Modal --- */
.modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); justify-content: center; align-items: center; z-index: 1001; }
.modal-content { background-color: white; padding: 30px; border-radius: 10px; width: 90%; max-width: 400px; position: relative; }
.modal-content h3 { margin-bottom: 20px; }
.modal-content input { width: 100%; padding: 10px; margin-bottom: 15px; border-radius: 5px; border: 1px solid #ccc; }
.modal-content button { padding: 10px 20px; border-radius: 5px; border: none; background-color: #4b7bec; color: white; cursor: pointer; }
.modal-content button:hover { background-color: #3867d6; }
.close-modal { position: absolute; top: 10px; right: 15px; font-size: 1.2rem; cursor: pointer; }

        /* Fixed Footer */
       .footer {
            background-color: purple;
            color: white;
            padding: 10px;
            position: fixed;
            bottom: 0;
            width: 100%;
            text-align: center;
            left:0;
            height:70px;
        }

        .footer a {
            color: gold;
            text-decoration: none;
            font-weight: bold;
        }
/* --- Dark Theme --- */
.dark body, .dark .event-card { background-color: #333; color: #f9f9f9; box-shadow: 0 4px 8px rgba(255,255,255,0.1); }
.dark .event-card-content h3, .dark .event-card-content p { color: #f9f9f9; }

</style>
</head>
<body>

<!-- Header -->
<header id="mainHeader">
    <a href="javascript:history.back()" class="back-button">← Back</a>
        <div class="logo">
            <img src="kfgc.jpg" alt="Church Logo">
<i class="fas fa-moon theme-toggle" id="themeToggle" title="Toggle Dark/Light"></i>   
    <h1>Our Church Events</h1>
    </header>

<!-- Hero Section -->
<section class="hero">
    <h2>Join Our Upcoming Events!</h2>
</section>

<!-- Events Section -->
<section class="events">
    <h2>Upcoming Events</h2>

    <!-- Search, Filter & Sort -->
    <div class="search-filter">
        <input type="text" id="searchInput" placeholder="Search events...">
        <select id="categoryFilter">
            <option value="all">All Categories</option>
            <option value="Prayer">Prayer</option>
            <option value="Worship">Worship</option>
            <option value="Youth">Youth</option>
        </select>
        <button class="sort-btn" id="sortBtn">Sort by Date ↑</button>
    </div>

    <!-- Event Cards -->
    <div class="event-cards" id="eventCards">
        <!-- Dynamic content will load here -->
    </div>

    <!-- Calendar -->
    <div id="calendar"></div>
</section>

<!-- Registration Modal -->
<div class="modal" id="registerModal">
    <div class="modal-content">
        <span class="close-modal" id="closeModal">&times;</span>
        <h3>Register for Event</h3>
        <input type="text" id="nameInput" placeholder="Your Name">
        <input type="email" id="emailInput" placeholder="Your Email">
        <button id="submitRegistration">Submit</button>
    </div>
</div>
<!-- Footer -->
    <footer class="footer">
         <p>Follow us on 
            <a href="https://whatsapp.com/channel/0029VaoQRhnHwXb9FX0Ub503">WhatsApp</a>|
            <a href="https://www.youtube.com/@KIRINDAFULLGOSPELCHURCHNYENDO">Youtube</a>|
            <a href="#">Facebook</a> | 
            <a href="https://t.me/+wJRnn7SQvehhZTFk">Telegram</a> | 
             <a href="www.tiktok.com/@kirindafullgospel">Tiktok</a>|
                 <a href="#"><i class="fab fa-twitter"></i></a>
    
        </p>
         <p>&copy; 2025 KFGC MEDIA APP. All Rights Reserved.</p>
    </footer>
<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>
<script>
// --- Event Data ---
const events = [
    {title:"Night Prayer 2025-2026", date:"2025-12-31T22:00:00", category:"Prayer", image:"https://images.unsplash.com/photo-1582719478143-39b7a7b4a1b4?auto=format&fit=crop&w=800&q=80"},
    {title:"Sunday Worship Service", date:"2025-12-14T09:00:00", category:"Worship", image:"https://images.unsplash.com/photo-1562072546-d9b6c3ad3848?auto=format&fit=crop&w=800&q=80"},
    {title:"Youth Fellowship", date:"2025-12-12T18:00:00", category:"Youth", image:"https://images.unsplash.com/photo-1503676260728-1c00da094a0b?auto=format&fit=crop&w=800&q=80"}
];

// --- Load Event Cards ---
const eventCardsContainer = document.getElementById('eventCards');
function loadEvents(eventList) {
    eventCardsContainer.innerHTML = '';
    eventList.forEach((event, index) => {
        const card = document.createElement('div');
        card.className = 'event-card';
        card.dataset.category = event.category;
        card.innerHTML = `
            <img src="${event.image}" alt="${event.title}">
            <div class="event-card-content">
                <h3>${event.title}</h3>
                <p>Date: ${new Date(event.date).toLocaleString()}</p>
                <div class="countdown" data-date="${event.date}"></div>
                <div class="tags"><span class="tag ${event.category}">${event.category}</span></div>
                <button class="btn register" data-index="${index}"><i class="fas fa-calendar-check"></i> Register</button>
            </div>
        `;
        eventCardsContainer.appendChild(card);
    });
    startCountdown();
}
loadEvents(events);

// --- Countdown Timer ---
function startCountdown() {
    const countdowns = document.querySelectorAll('.countdown');
    function update() {
        countdowns.forEach(cd => {
            const eventDate = new Date(cd.dataset.date);
            const now = new Date();
            const diff = eventDate - now;
            if(diff > 0) {
                const days = Math.floor(diff / (1000*60*60*24));
                const hours = Math.floor((diff / (1000*60*60)) % 24);
                const minutes = Math.floor((diff / (1000*60)) % 60);
                const seconds = Math.floor((diff / 1000) % 60);
                cd.textContent = `Starts in: ${days}d ${hours}h ${minutes}m ${seconds}s`;
                if(diff < 3600000) cd.style.color = '#ff3b3b';
            } else cd.textContent = "Event Started!";
        });
    }
    update();
    setInterval(update, 1000);
}

// --- Theme Toggle ---
const themeToggle = document.getElementById('themeToggle');
themeToggle.addEventListener('click', () => document.body.classList.toggle('dark'));

// --- Search & Filter ---
const searchInput = document.getElementById('searchInput');
const categoryFilter = document.getElementById('categoryFilter');
function filterEvents() {
    const searchText = searchInput.value.toLowerCase();
    const category = categoryFilter.value;
    const filtered = events.filter(event => 
        event.title.toLowerCase().includes(searchText) && 
        (category === 'all' || event.category === category)
    );
    loadEvents(filtered);
}
searchInput.addEventListener('input', filterEvents);
categoryFilter.addEventListener('change', filterEvents);

// --- Sort by Date ---
let sortAsc = true;
const sortBtn = document.getElementById('sortBtn');
sortBtn.addEventListener('click', () => {
    events.sort((a,b) => sortAsc ? new Date(a.date) - new Date(b.date) : new Date(b.date) - new Date(a.date));
    sortAsc = !sortAsc;
    sortBtn.textContent = `Sort by Date ${sortAsc ? '↑' : '↓'}`;
    filterEvents();
});

// --- Registration Modal ---
const modal = document.getElementById('registerModal');
const closeModal = document.getElementById('closeModal');
const submitBtn = document.getElementById('submitRegistration');
document.addEventListener('click', e => {
    if(e.target.classList.contains('register')){
        modal.style.display = 'flex';
        modal.querySelector('h3').textContent = "Register for: " + (e.target.dataset.index !== undefined ? events[e.target.dataset.index].title : "");
    }
});
closeModal.addEventListener('click', () => modal.style.display = 'none');
submitBtn.addEventListener('click', () => {
    alert("Registration Submitted!"); 
    modal.style.display = 'none';
});

// --- Sticky header ---
const header = document.getElementById('mainHeader');
window.addEventListener('scroll', () => {
    if(window.scrollY > 50) header.classList.add('shrink');
    else header.classList.remove('shrink');
});

// --- FullCalendar Integration ---
const calendarEl = document.getElementById('calendar');
const calendar = new FullCalendar.Calendar(calendarEl, {
    initialView: 'dayGridMonth',
    events: events.map(ev => ({ title: ev.title, start: ev.date, extendedProps: { category: ev.category, image: ev.image } })),
    eventClick: function(info) {
        modal.style.display = 'flex';
        modal.querySelector('h3').textContent = "Register for: " + info.event.title;
    },
    eventDidMount: function(info) {
        const cat = info.event.extendedProps.category;
        if(cat === 'Prayer') info.el.style.backgroundColor = '#4b7bec';
        if(cat === 'Worship') info.el.style.backgroundColor = '#28a745';
        if(cat === 'Youth') info.el.style.backgroundColor = '#ff9800';
    }
});
calendar.render();
</script>

</body>
</html>